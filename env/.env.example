# =============================================================================
# AUTHORFLOW STUDIOS - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real secrets to version control
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE (Database & Auth)
# -----------------------------------------------------------------------------
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
# JWT Secret for verifying tokens - find in: Supabase Dashboard → Project Settings → API → JWT Secret
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# -----------------------------------------------------------------------------
# CLOUDFLARE R2 STORAGE (S3-Compatible)
# -----------------------------------------------------------------------------
# Get credentials from: Cloudflare Dashboard → R2 → Manage R2 API Tokens
# Setup instructions: See R2_SETUP_INSTRUCTIONS.md
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# R2 Bucket Names
R2_BUCKET_MANUSCRIPTS=manuscripts
R2_BUCKET_AUDIOBOOKS=audiobooks

# R2 Endpoints (update with your actual account ID)
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_PUBLIC_URL=

# -----------------------------------------------------------------------------
# TTS API KEYS (Backend Only)
# -----------------------------------------------------------------------------
# PRIMARY: Google Gemini TTS (recommended for multilingual audiobooks)
# Get API key from: https://aistudio.google.com/apikey
GOOGLE_GENAI_API_KEY=your-google-genai-api-key

# Gemini TTS Configuration
GOOGLE_TTS_MODEL=gemini-2.5-flash-preview-tts  # TTS model to use
GOOGLE_TTS_AUDIO_ENCODING=mp3                   # Output format: mp3, wav, etc.
GOOGLE_TTS_MAX_CHARS_PER_SEGMENT=2800           # Max characters per TTS request

# FALLBACK: OpenAI TTS (used if Gemini is unavailable)
OPENAI_API_KEY=sk-proj-your-openai-api-key

# OPTIONAL: ElevenLabs TTS (premium voices for dual-voice mode)
ELEVENLABS_API_KEY=sk_your-elevenlabs-api-key

# OPTIONAL: Inworld TTS (all 4 fields required if using Inworld)
# Get from: https://studio.inworld.ai/ → Settings → API Credentials
INWORLD_WORKSPACE_ID=
INWORLD_JWT_KEY=
INWORLD_JWT_SECRET=
INWORLD_BASIC_AUTH=


# -----------------------------------------------------------------------------
# APPLICATION URLS
# -----------------------------------------------------------------------------
# Production URLs (update when deploying)
NEXT_PUBLIC_ENGINE_API_URL=https://api.authorflowstudios.rohimayapublishing.com
FRONTEND_URL=https://authorflowstudios.rohimayapublishing.com

# CORS Configuration (add production URLs when deploying)
ALLOWED_ORIGINS=https://authorflowstudios.rohimayapublishing.com,http://localhost:3000,http://127.0.0.1:3000

# -----------------------------------------------------------------------------
# STRIPE BILLING (Backend Only - Configure in Railway)
# -----------------------------------------------------------------------------
# Get credentials from: Stripe Dashboard → Developers → API Keys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs - create products in Stripe Dashboard → Products
# IMPORTANT: Env var format is STRIPE_PRICE_{PLAN_ID}_{PERIOD}
# For author_pro plan → STRIPE_PRICE_AUTHOR_PRO_MONTHLY (with underscore)
STRIPE_PRICE_CREATOR_MONTHLY=price_xxxx
STRIPE_PRICE_AUTHOR_PRO_MONTHLY=price_xxxx
STRIPE_PRICE_PUBLISHER_MONTHLY=price_xxxx
# Optional yearly prices:
STRIPE_PRICE_CREATOR_YEARLY=price_xxxx
STRIPE_PRICE_AUTHOR_PRO_YEARLY=price_xxxx
STRIPE_PRICE_PUBLISHER_YEARLY=price_xxxx

# -----------------------------------------------------------------------------
# GENERAL CONFIGURATION
# -----------------------------------------------------------------------------
LOG_LEVEL=info
ENVIRONMENT=production

# -----------------------------------------------------------------------------
# PROCESSING SETTINGS (Optional - Defaults provided in code)
# -----------------------------------------------------------------------------
CHUNK_SIZE=1500
MAX_WORKERS=5
RATE_LIMIT_RPM=60

# -----------------------------------------------------------------------------
# BREVO (Email Marketing & Transactional Emails)
# -----------------------------------------------------------------------------
# Get API key from: Brevo Dashboard → Settings → SMTP & API → API Keys
BREVO_API_KEY=xkeysib-your-brevo-api-key
CONTACT_EMAIL=support@authorflowstudios.rohimayapublishing.com

# -----------------------------------------------------------------------------
# GOOGLE DRIVE INTEGRATION
# -----------------------------------------------------------------------------
# Get credentials from: Google Cloud Console → APIs & Services → Credentials
# Enable: Google Drive API, Google Docs API
GOOGLE_DRIVE_CLIENT_ID=
GOOGLE_DRIVE_CLIENT_SECRET=
GOOGLE_DRIVE_REDIRECT_URI=https://api.authorflowstudios.rohimayapublishing.com/google-drive/callback

GOOGLE_DOCS_CLIENT_ID=
GOOGLE_DOCS_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# COVER IMAGE GENERATION
# -----------------------------------------------------------------------------
# Provider: "openai" (DALL-E) or "banana" (Banana.dev with SDXL/Flux)
COVER_IMAGE_PROVIDER=openai
COVER_IMAGE_MODEL=dall-e-3

# Banana.dev API (alternative to DALL-E for cover generation)
# Get from: https://www.banana.dev/
BANANA_API_KEY=

# -----------------------------------------------------------------------------
# EMOTIONAL TTS CONFIGURATION
# -----------------------------------------------------------------------------
# OpenAI gpt-4o-mini-tts supports emotional instructions via system prompts
# These are default emotion presets that can be overridden per-job
EMOTIONAL_TTS_MODEL=gpt-4o-mini-tts
EMOTIONAL_TTS_ENABLED=true

# -----------------------------------------------------------------------------
# FINDAWAY PACKAGE CONFIGURATION
# -----------------------------------------------------------------------------
# Default metadata for Findaway packages
FINDAWAY_DEFAULT_PUBLISHER=AuthorFlow Studios
FINDAWAY_AUDIO_BITRATE=192k
FINDAWAY_SAMPLE_DURATION_MINUTES=4

# -----------------------------------------------------------------------------
# MONITORING & ADMIN
# -----------------------------------------------------------------------------
# Admin dashboard access
ADMIN_STATUS_PANEL_ENABLED=true

# Admin emails (comma-separated) - these users bypass billing limits
# These users can create unlimited projects and access admin endpoints
ADMIN_EMAILS=admin@example.com,owner@rohimayapublishing.com

# Error reporting (optional)
SENTRY_DSN=

# Debug/self-test endpoints (set to "true" to enable in production)
ENGINE_SELF_TEST_ENABLED=false

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000

# -----------------------------------------------------------------------------
# DATABASE CONNECTION (If using direct Postgres instead of Supabase SDK)
# -----------------------------------------------------------------------------
# DATABASE_URL=

# =============================================================================
# END OF ENVIRONMENT VARIABLES
# =============================================================================
